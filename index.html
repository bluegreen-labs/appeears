<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interface to AppEARS NASA Web Services • appeears</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Titillium+Web:ital,wght@0,300;0,400;0,700;1,300;1,400&amp;display=swap" rel="stylesheet">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- ropensci --><link href="bglabs.css" rel="stylesheet">
<meta property="og:title" content="Interface to AppEARS NASA Web Services">
<meta property="og:description" content="Programmatic interface to the NASA Application for Extracting and Exploring Analysis Ready Samples services (AppEEARS; &lt;https://appeears.earthdatacloud.nasa.gov/&gt;).
 The package provides easy access to analysis ready earth observation data in R.">
<meta name="twitter:card" content="summary">
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">

    <div class="navbar-header">

      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="external-link hidden-sm hidden-xs" href="https://bluegreenlabs.org">
          <img src="https://bluegreenlabs.org/img/logo_text_small.png" id="hexlogo" alt="bluegreen labs"></a>
        <a class="external-link hidden-md hidden-lg" href="https://bluegreenlabs.org">
          <img src="https://bluegreenlabs.org/img/logo.png" id="hexlogo" alt="bluegreen labs"></a>
        <a class="navbar-brand" href="index.html">
           <i>appeears <small>v1.1</small></i>
        </a>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/appeears_vignette.html">AppEEARS functionality</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/bluegreen-labs/appeears/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="appeears">appeears<a class="anchor" aria-label="anchor" href="#appeears"></a>
</h1></div>
<p><a href="https://github.com/bluegreen-labs/appeears/actions" class="external-link"><img src="https://github.com/bluegreen-labs/appeears/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a> <a href="https://app.codecov.io/gh/bluegreen-labs/appeears" class="external-link"><img src="https://codecov.io/gh/bluegreen-labs/appeears/branch/main/graph/badge.svg" alt="codecov"></a> <a href="https://doi.org/10.5281/zenodo.7938190" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7938190.svg" alt="DOI"></a> <img src="https://cranlogs.r-pkg.org/badges/grand-total/appeears"><img src="https://www.r-pkg.org/badges/version/appeears"></p>
<p>Programmatic interface to the <a href="https://appeears.earthdatacloud.nasa.gov/" class="external-link">NASA AppEEARS API</a> services where, and I quote, “The Application for Extracting and Exploring Analysis Ready Samples (AρρEEARS) offers a simple and efficient way to access and transform geospatial data from a variety of federal data archives. AρρEEARS enables users to subset geospatial datasets using spatial, temporal, and band/layer parameters.”</p>
<div class="section level2">
<h2 id="how-to-cite-this-package">How to cite this package<a class="anchor" aria-label="anchor" href="#how-to-cite-this-package"></a>
</h2>
<p>You can cite this package like this “we obtained data through the NASA AppEEARS API using the {appeears} R package (Hufkens 2023)”. Here is the full bibliographic reference to include in your reference list (don’t forget to update the ‘last accessed’ date):</p>
<blockquote>
<p>Hufkens, K. (2023). appeears: Programmatic interface to the NASA AppEEARS API. Zenodo. <a href="https://doi.org/10.5281/zenodo.7938190" class="external-link uri">https://doi.org/10.5281/zenodo.7938190</a>.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="stable-release">stable release<a class="anchor" aria-label="anchor" href="#stable-release"></a>
</h3>
<p>To install the current stable release use a CRAN repository:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"appeears"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/bluegreen-labs/appeears" class="external-link">"appeears"</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="development-release">development release<a class="anchor" aria-label="anchor" href="#development-release"></a>
</h3>
<p>To install the development releases of the package run the following commands:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span><span class="op">}</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"bluegreen-labs/appeears"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/bluegreen-labs/appeears" class="external-link">"appeears"</a></span><span class="op">)</span></span></code></pre></div>
<p>Vignettes are not rendered by default, if you want to include additional documentation please use:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span><span class="op">}</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"bluegreen-labs/appeears"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/bluegreen-labs/appeears" class="external-link">"appeears"</a></span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="use">Use<a class="anchor" aria-label="anchor" href="#use"></a>
</h2>
<div class="section level3">
<h3 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h3>
<p>Before starting save the provided NASA Earth Data password to your local keychain. The package does not allow you to use your password inline in scripts to limit security issues when sharing scripts on github or otherwise.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set a key to the keychain</span></span>
<span><span class="fu"><a href="reference/rs_set_key.html">rs_set_key</a></span><span class="op">(</span></span>
<span>  user <span class="op">=</span> <span class="st">"earth_data_user"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"XXXXXXXXXXXXXXXXXXXXXX"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># you can retrieve the password using</span></span>
<span><span class="fu"><a href="reference/rs_get_key.html">rs_get_key</a></span><span class="op">(</span>user <span class="op">=</span> <span class="st">"earth_data_user"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># the output should be the key you provided</span></span>
<span><span class="co"># "XXXXXXXXXXXXXXXXXXXXXX"</span></span></code></pre></div>
<p>Downloads are managed using a Bearer/session token. This token is valid for 48 hours, after which it will expire and you will need to request a new one. Although downloads are managed using the user (keychain) details only, you can request the current token using <code><a href="reference/rs_login.html">rs_login()</a></code>, while <code><a href="reference/rs_logout.html">rs_logout()</a></code> will explicitly invalidate the current session token.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># request the current token</span></span>
<span><span class="va">token</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rs_login.html">rs_login</a></span><span class="op">(</span>user <span class="op">=</span> <span class="st">"earth_data_user"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># invalidate the current session</span></span>
<span><span class="fu"><a href="reference/rs_logout.html">rs_logout</a></span><span class="op">(</span><span class="va">token</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="point-based-data-requests">Point based data requests<a class="anchor" aria-label="anchor" href="#point-based-data-requests"></a>
</h3>
<p>All point based queries are made by first creating a tidy data frame with the desired products and layers to query.</p>
<p>In this data frame <code>task</code> specifies the overall name of the task to run (this prefix will be used to name the final downloaded files). The <code>subtask</code> denotes the various locations and or products you want to query. As such, you can query multiple locations in the same larger task, avoiding multiple queries to the API.</p>
<p>The <code>latitude</code> and <code>longitude</code> fields specify geographic coordinates of query locations, while <code>start</code> and <code>end</code> columns define the range of the data queried. Note that the date range will cover the maximum date range across all <code>subtasks</code>. If date ranges vary widely it is advised to create separate tasks.</p>
<p>Finally the <code>product</code> and <code>layer</code> columns denote the remote sensing product and particular layer to download. A full list of products can be queried using <code><a href="reference/rs_products.html">rs_products()</a></code>, while the layers of a particular product can be listed using <code><a href="reference/rs_layers.html">rs_layers()</a></code>. Note that the product needs to be specified using the full product name, including the version of the product (as stored in the <code>ProductAndVersion</code> field).</p>
<p>For point and area based queries all data are saved in a subdirectory of the main <code>path</code> as defined by the task name. An abbreviated workflow can be found below, while a full worked example is provided in the vignettes.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the library</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bluegreen-labs/appeears" class="external-link">appeears</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># list all products</span></span>
<span><span class="fu"><a href="reference/rs_products.html">rs_products</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># list layers of the MOD11A2.061 product</span></span>
<span><span class="fu"><a href="reference/rs_layers.html">rs_layers</a></span><span class="op">(</span><span class="st">"MOD11A2.061"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  task <span class="op">=</span> <span class="st">"time_series"</span>,</span>
<span>  subtask <span class="op">=</span> <span class="st">"US-Ha1"</span>,</span>
<span>  latitude <span class="op">=</span> <span class="fl">42.5378</span>,</span>
<span>  longitude <span class="op">=</span> <span class="op">-</span><span class="fl">72.1715</span>,</span>
<span>  start <span class="op">=</span> <span class="st">"2010-01-01"</span>,</span>
<span>  end <span class="op">=</span> <span class="st">"2010-12-31"</span>,</span>
<span>  product <span class="op">=</span> <span class="st">"MCD43A4.061"</span>,</span>
<span>  layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Nadir_Reflectance_Band3"</span>,<span class="st">"Nadir_Reflectance_Band4"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># build the area based request/task</span></span>
<span><span class="co"># rename the task name so data will</span></span>
<span><span class="co"># be saved in the "point" folder</span></span>
<span><span class="co"># as defined by the task name</span></span>
<span><span class="va">task</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rs_build_task.html">rs_build_task</a></span><span class="op">(</span>df <span class="op">=</span> <span class="va">df</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># request the task to be executed</span></span>
<span><span class="fu"><a href="reference/rs_request.html">rs_request</a></span><span class="op">(</span></span>
<span>  request <span class="op">=</span> <span class="va">task</span>,</span>
<span>  user <span class="op">=</span> <span class="st">"earth_data_user"</span>,</span>
<span>  transfer <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"~/some_path"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="area-based-data-requests">Area based data requests<a class="anchor" aria-label="anchor" href="#area-based-data-requests"></a>
</h3>
<p>You can select a region-of-interest (ROI) instead of point based data, using both <code>sf</code> polygons or the extent (bounding box) of an existing <code>terra</code> <code>SpatRaster</code> object. Both methods follow the same workflow.</p>
<div class="section level4">
<h4 id="sf-polygon-roi">{sf} polygon ROI<a class="anchor" aria-label="anchor" href="#sf-polygon-roi"></a>
</h4>
<p>When using an <code>sf</code> object, provide it to the <code>roi</code> argument of the <code><a href="reference/rs_build_task.html">rs_build_task()</a></code> function. The <code>sf</code> object must be of class <code>sf</code> not <code>sfc</code> when required convert <code>sfc</code> data using <code><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf()</a></code>.</p>
<p>Note however that at the time only as simple polygon is supported. Multiple polygons in the same <code>sf</code> object might result in failure to query the data.</p>
<p>Furthermore, no other means will be provided to specify a region-of-interest. As such, you will always have to query a region-of-interest using an <code>sf</code> object. This ensures consistency across queries and allows for rapid visualization of a region of interest (in contrast to a simple list of e.g. top-left, bottom-right coordinates).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load the required libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bluegreen-labs/appeears" class="external-link">appeears</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  task <span class="op">=</span> <span class="st">"time_series"</span>,</span>
<span>  subtask <span class="op">=</span> <span class="st">"subtask"</span>,</span>
<span>  latitude <span class="op">=</span> <span class="fl">42.5378</span>,</span>
<span>  longitude <span class="op">=</span> <span class="op">-</span><span class="fl">72.1715</span>,</span>
<span>  start <span class="op">=</span> <span class="st">"2010-01-01"</span>,</span>
<span>  end <span class="op">=</span> <span class="st">"2010-12-31"</span>,</span>
<span>  product <span class="op">=</span> <span class="st">"MCD12Q2.006"</span>,</span>
<span>  layer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Greenup"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load the north carolina demo data</span></span>
<span><span class="co"># included in the {sf} package</span></span>
<span><span class="co"># and only retain Camden county</span></span>
<span><span class="va">roi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"gpkg/nc.gpkg"</span>, package<span class="op">=</span><span class="st">"sf"</span><span class="op">)</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">NAME</span> <span class="op">==</span> <span class="st">"Camden"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># build the area based request/task</span></span>
<span><span class="co"># rename the task name so data will</span></span>
<span><span class="co"># be saved in the "polygon" folder</span></span>
<span><span class="co"># as defined by the task name</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">task</span> <span class="op">&lt;-</span> <span class="st">"polygon"</span></span>
<span><span class="va">task</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rs_build_task.html">rs_build_task</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">df</span>,</span>
<span>  roi <span class="op">=</span> <span class="va">roi</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"geotiff"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># request the task to be executed</span></span>
<span><span class="fu"><a href="reference/rs_request.html">rs_request</a></span><span class="op">(</span></span>
<span>  request <span class="op">=</span> <span class="va">task</span>,</span>
<span>  user <span class="op">=</span> <span class="st">"earth_data_user"</span>,</span>
<span>  transfer <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"~/some_path"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="terra-spatraster-roi">{terra} SpatRaster ROI<a class="anchor" aria-label="anchor" href="#terra-spatraster-roi"></a>
</h4>
<p>The <code>terra</code> based region-of-interest workflow is similar to that of <code>sf</code> polygon based queries. One only has to provide a <code>SpatRaster</code> as an <code>roi</code> argument in <code><a href="reference/rs_build_task.html">rs_build_task()</a></code> to query a region of the same extent as the <code>SpatRaster</code>. The use case for this functionality is obvious, creating a quick way to sample new data for an existing data set (using the same coverage).</p>
<p>Note that unlike the <code>sf</code> method a bounding box is used and masked data is ignored (the full extent is downloaded and masking will have to be repeated afterwards).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load the required libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a SpatRaster ROI from the terra demo file</span></span>
<span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"ex/elev.tif"</span>, package<span class="op">=</span><span class="st">"terra"</span><span class="op">)</span></span>
<span><span class="va">roi</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># build the area based request/task</span></span>
<span><span class="co"># rename the task name so data will</span></span>
<span><span class="co"># be saved in the "raster" folder</span></span>
<span><span class="co"># as defined by the task name</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">task</span> <span class="op">&lt;-</span> <span class="st">"raster"</span></span>
<span><span class="va">task</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rs_build_task.html">rs_build_task</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">df</span>,</span>
<span>  roi <span class="op">=</span> <span class="va">roi</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"geotiff"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># request the task to be executed</span></span>
<span><span class="fu"><a href="reference/rs_request.html">rs_request</a></span><span class="op">(</span></span>
<span>  request <span class="op">=</span> <span class="va">task</span>,</span>
<span>  user <span class="op">=</span> <span class="st">"earth_data_user"</span>,</span>
<span>  transfer <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"~/some_path"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="file-based-keychains">File based keychains<a class="anchor" aria-label="anchor" href="#file-based-keychains"></a>
</h2>
<p>On linux you can opt to use a file based keyring, instead of a GUI based keyring manager. This is helpful for headless setups such as servers. For this option to work linux users must set an environmental option.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>keyring_backend<span class="op">=</span><span class="st">"file"</span><span class="op">)</span></span></code></pre></div>
<p>You will be asked to provide a password to encrypt the keyring with. Upon the start of each session you will be asked to provide this password, unlocking all <code>appeears</code> credentials for this session. Should you ever forget the password just delete the file at: <code>~/.config/r-keyring/appeears.keyring</code> and re-enter all your credentials.</p>
</div>
</div>
<div class="section level1">
<h1 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h1>
<p>The <code>appeears</code> package is a product of BlueGreen Labs, and has been in part supported by the LEMONTREE project funded through the Schmidt Futures fund, under the umbrella of the Virtual Earth System Research Institute (VESRI).</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=appeears" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/bluegreen-labs/appeears/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/bluegreen-labs/appeears/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/AGPL-3" class="external-link">AGPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing appeears</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://bluegreenlabs.org" class="external-link">Koen Hufkens</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5070-8109" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://bluegreenlabs.org" class="external-link">BlueGreen Labs</a> <br><small class="roles"> Copyright holder, funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/bluegreen-labs" target="_blank" class="external-link">
                          <div class="icon fab fa-github"></div></a>
                        <a href="https://bluegreenlabs.org/labs/" target="_blank" class="external-link">
                          <div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/bluegreen_labs" target="_blank" class="external-link">
                          <div class="icon fab fa-twitter"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://bluegreenlabs.org/#intro" class="external-link">BlueGreen Labs</a></li>
                            <li><a href="https://bluegreenlabs.org/#people" class="external-link">Our Team</a></li>
                            <li><a href="https://bluegreenlabs.org/#contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://github.com/bluegreen-labs" class="external-link">Packages</a></li>
                            <li><a href="https://bluegreenlabs.org/publication/" class="external-link">Publications</a></li>
                            <li><a href="https://bluegreenlabs.org/post/" class="external-link">Blog</a></li>
                        </ul>
</div>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
</div>

  


  

  </body>
</html>
